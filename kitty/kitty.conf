# Kitty Configuration
# Converted from WezTerm config

# Font configuration
font_family JetBrains Mono Medium
font_size 12.0

# Color scheme - Catppuccin Macchiato
# You'll need to install the Catppuccin theme for Kitty
# Download from: https://github.com/catppuccin/kitty
include ./themes/catppuccin-macchiato.conf

# Window appearance
background_opacity 0.4
window_padding_width 8 4

# Tab bar configuration
tab_bar_edge bottom
tab_bar_style powerline
tab_powerline_style slanted
tab_title_template "{index}: {title}"

# Hide tab bar when only one tab
tab_bar_min_tabs 2

# Window decorations (minimal)
hide_window_decorations yes
remember_window_size yes

# Inactive window/pane styling
inactive_text_alpha 0.5

# Leader key setup (Ctrl+B like tmux)
# Kitty doesn't have a direct leader key concept, so we'll use key chords

# Session management

# Key mappings
# Clear default mappings that conflict
map ctrl+shift+enter no_op
map cmd+enter no_op

# Tab management (using Ctrl+B as prefix)
map ctrl+b>n new_tab_with_cwd
map ctrl+b>x close_tab
map ctrl+b>h previous_tab
map ctrl+b>l next_tab
map ctrl+b>t select_tab

# Tab navigation by number
map ctrl+b>1 goto_tab 1
map ctrl+b>2 goto_tab 2
map ctrl+b>3 goto_tab 3
map ctrl+b>4 goto_tab 4
map ctrl+b>5 goto_tab 5
map ctrl+b>6 goto_tab 6
map ctrl+b>7 goto_tab 7
map ctrl+b>8 goto_tab 8
map ctrl+b>9 goto_tab 9

# Window/Pane management
map ctrl+b>minus launch --location=hsplit
map ctrl+b>shift+backslash launch --location=vsplit
map ctrl+b>shift+x close_window
map ctrl+b>z toggle_layout stack

# Window navigation
map ctrl+b>ctrl+j neighboring_window down
map ctrl+b>ctrl+k neighboring_window up
map ctrl+b>ctrl+h neighboring_window left
map ctrl+b>ctrl+l neighboring_window right

# Window resizing (entering resize mode)
map ctrl+b>r start_resizing_window

# Copy mode
map ctrl+b>c copy_to_clipboard

# Send Ctrl+A when pressing Ctrl+B twice
map ctrl+b>a send_text all \x01

# Workspace/Session management
map ctrl+b>w launch --type=overlay sh -c 'kitty @ ls | grep -o "id:[0-9]*" | cut -d: -f2 | head -10 | while read id; do echo "Window ID: $id"; done'

# Layout management
map ctrl+b>s next_layout

# Additional useful mappings
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard

# Scrollback
scrollback_lines 10000

# Mouse
mouse_hide_wait 2.0

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes

# Bell
enable_audio_bell no
visual_bell_duration 0.0

# URL handling
detect_urls yes
url_color #0087bd
url_style curly

# Shell integration
shell_integration enabled

# Terminal type
term xterm-kitty
